{"version":3,"sources":["app.js","define.js","log.js","auth.js"],"names":["$","WorkoutLog","undefined","API_BASE","setAuthHeader","sessionToken","window","localStorage","setItem","ajaxSetup","headers","Authorization","jQuery","on","e","token","getItem","this","hasClass","preventDefault","target","attr","log","setDefinitions","setHistory","document","which","is","trigger","extend","definition","userDefinitions","create","postData","desc","val","type","ajax","url","data","JSON","stringify","contentType","done","push","tab","fetchAll","authorization","fail","err","console","workouts","opts","defs","len","length","i","id","description","children","remove","append","history","lis","def","result","itsLog","text","getWorkout","thisLog","logID","updateData","updateWorkout","updateLog","splice","updateLogData","delete","deleteData","deleteLog","closest","delegate","signup","user","username","password","modal","removeClass","show","login","loginout","removeItem"],"mappings":"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","file":"../bundle.js","sourcesContent":["/* $(document).ready(function(){\t\t\t\t\t//DOM ready to execute code\n\t$(\"#testAPI\").on(\"click\", function(){\t\t//\"click\" event now attached to #testAPI\n\t\tconsole.log(\"It's working!\");\t\t\t//When #testAPI is clicked, \"It's working!\" will be printed\n\t});\t\t\t\t\t\t\t\t\t\t\t//to the console. ^^^^^\n\n\tvar test = $.ajax({\t\t\t\t\t\t\t//test variable (AJAX GET request for the url) created\n\t\ttype: \"GET\",\n\t\turl: \"http://localhost:3000/api/test\"    //Note - port 3000 is the port specified in app.js for\n\t})\t\t\t\t\t\t\t\t\t\t\t\t//the workoutlogServer folder ^^^^^\n\t.done(function(data){\t\t\t\t//.done (success) callback returns the data/results pulled from url.\n\t\tconsole.log(data);\t\t\t//data pulled is printed to the console.\n\t})\n\t.fail(function(){\t\t\t\t//If unsuccessful, .fail will take place of .done and\n\t\tconsole.log(\"Oh no!\");\t\t//\"Oh no!\" will print to the console in it's place ^^^^^\n\t})\n}); */\n\n$(function(){\n\tvar WorkoutLog = (function($, undefined){\n\t\tvar API_BASE = \"https://wosworkoutserv.herokuapp.com/api/\";\n\t\tvar userDefinitions = [];\n\t\tvar setAuthHeader = function(sessionToken) {\n\t\t\twindow.localStorage.setItem(\"sessionToken\", sessionToken);\n\t\t\t//set the authorization header\n\t\t\t//this can be done on individual calls\n\t\t\t//here we showcase ajaxSetup as a global tool\n\t\t\t$.ajaxSetup({\n\t\t\t\t\"headers\": {\n\t\t\t\t\t\"Authorization\": sessionToken\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\t//public\n\t\treturn {\n\t\t\tAPI_BASE: API_BASE,\n\t\t\tsetAuthHeader: setAuthHeader\n\t\t};\n\t})(jQuery);\n\t//ensure .disabled aren't clickable\n\t$('.nav-tabs a[data-toggle=\"tab\"]').on(\"click\", function(e){\n\t\tvar token = window.localStorage.getItem(\"sessionToken\");\n\t\tif ($(this).hasClass(\"disabled\") && !token){\n\t\t\te.preventDefault();\n\t\t\treturn false;\n\t\t}\n\t});\n\t//bind tab change events\n\t$('a[data-toggle=\"tab\"]').on(\"shown.bs.tab\", function(e){\n\t\tvar target = $(e.target).attr(\"href\"); //actived tab\n\t\tif (target === \"#log\"){\n\t\t\tWorkoutLog.log.setDefinitions(\"log\");\n\t\t}\n\t\tif (target === \"#update-log\"){\n\t\t\tWorkoutLog.log.setDefinitions(\"update\");\n\t\t}\n\t\tif (target === \"#history\"){\n\t\t\tWorkoutLog.log.setHistory();\n\t\t}\n\t});\n\n\t//bind enter key\n\t$(document).on(\"keypress\", function(e){\n\t\tif(e.which === 13) { //enter key\n\t\t\tif ($(\"#signup-modal\").is(\":visible\")){\n\t\t\t\t$(\"#signup\").trigger(\"click\");\n\t\t\t}\n\t\t\tif($(\"#login-modal\").is(\":visible\")){\n\t\t\t\t$(\"#login\").trigger(\"click\");\n\t\t\t}\n\t\t}\n\t});\n\n\n\t//bind tab change events\n\t//bootstrap tab -- binding to a bootstrap event\n\t$('a[data-toggle=\"tab\"]').on(\"shown.bs.tab\", function(e){\n\t\tvar target = $(e.target).attr(\"href\"); //activated tab\n\t\tif (target === \"#log\"){\n\t\t\tWorkoutLog.log.setDefinitions();\n\t\t}\n\t\tif (target === \"#history\"){\n\t\t\tWorkoutLog.log.setHistory();\n\t\t}\n\t})\n\n\t//set header if we\n\tvar token = window.localStorage.getItem(\"sessionToken\");\n\tif (token){\n\t\tWorkoutLog.setAuthHeader(token);\n\t}\n\t//expose this to the other workoutlog modules\n\twindow.WorkoutLog = WorkoutLog;\n});","$(function(){\n\t$.extend(WorkoutLog, {\n\t\tdefinition: {\n\t\t\tuserDefinitions: [],\n\t\t\tcreate: function(){\n\t\t\t\tvar def = {\n\t\t\t\t\tdesc: $(\"#def-description\").val(),\n\t\t\t\t\ttype: $(\"#def-logtype\").val()\n\t\t\t\t};\n\t\t\t\tvar postData = {definition: def};\n\t\t\tvar define = $.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"definition\",\n\t\t\t\t\tdata: JSON.stringify(postData),\n\t\t\t\t\tcontentType: \"application/json\"\n\t\t\t\t});\n\t\t\t\tdefine.done(function(data){\n\t\t\t\t\tWorkoutLog.definition.userDefinitions.push(data.definition);\n\t\t\t\t\t$(\"#def-description\").val(\"\");\n\t\t\t\t\t$(\"#def-log\").val(\"\");\n\t\t\t\t\t$('a[href=\"#log\"]').tab(\"show\");\n\t\t\t\t});\n\t\t\t},\n\t\t\tfetchAll: function(){\n\t\t\t\tvar fetchDefs = $.ajax({\n\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"definition\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"authorization\": window.localStorage.getItem(\"sessionToken\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.done(function(data){\n\t\t\t\t\tWorkoutLog.definition.userDefinitions = data;\n\t\t\t\t})\n\t\t\t\t.fail(function(err){\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\t//bindings\n\t$(\"#def-save\").on(\"click\", WorkoutLog.definition.create);\n\n\t//fetch definitions if we are already authenticated and refreshed\n\n\tif (window.localStorage.getItem(\"sessionToken\")){\n\t\tWorkoutLog.definition.fetchAll();\n\t}\n});","$(function(){\n\t$.extend(WorkoutLog, {\n\t\tlog: {\n\t\t\tworkouts: [],\n\n\t\t\tsetDefinitions: function(type){\n\t\t\t\tvar defs = WorkoutLog.definition.userDefinitions;\n\t\t\t\tvar len = defs.length;\n\t\t\t\tvar opts;\n\t\t\t\tfor (var i = 0; i < len; i++){\n\t\t\t\t\topts += \"<option value ='\" + defs[i].id + \"'>\" + defs[i].description + \"</option>\";\n\t\t\t\t}\n\t\t\t\t$(\"#\" + type + \"-definition\").children().remove();\n\t\t\t\t$(\"#\" + type + \"-definition\").append(opts);\n\t\t\t},\n\t\t\tsetHistory: function(){\n\t\t\t\tconsole.log(WorkoutLog.log.workouts);\n\t\t\t\tvar history = WorkoutLog.log.workouts;\n\t\t\t\tvar len = history.length;\n\t\t\t\tvar lis = \"\";\n\t\t\t\tfor (var i = 0; i < len; i++){\n\t\t\t\t\tlis += \"<li class='list-group-item'>\" +\n\t\t\t\t\thistory[i].def + \" - \" + \n\t\t\t\t\thistory[i].result + \" \" + \n\t\t\t\t\t\"<div class='pull-right'>\" + \n\t\t\t\t\t\t\"<button id='\" + history[i].id + \"' class='update'><strong>U</strong></button>\" + \n\t\t\t\t\t\t\"<button id='\" + history[i].id + \"' class='remove'><strong>X</strong></button>\" + \n\t\t\t\t\t\"</div></li>\";\n\t\t\t\t}\n\t\t\t\t/*for (var i = 0; i < len; i++){\n\t\t\t\t\tlis += \"<li class='list-group-item'>\" + history[i].def + \"-\" + history[i].result + \"</li>\";\n\t\t\t\t}*/\n\t\t\t\t$(\"#history-list\").children().remove();\n\t\t\t\t$(\"#history-list\").append(lis);\n\t\t\t},\n\t\t\tcreate: function(){\n\t\t\t\tvar itsLog = {\n\t\t\t\t\tdesc: $(\"#log-description\").val(),\n\t\t\t\t\tresult: $(\"#log-result\").val(),\n\t\t\t\t\tdef: $(\"#log-definition option:selected\").text()\n\t\t\t\t};\n\t\t\t\tconsole.log(itsLog);\n\t\t\t\tvar postData = {log: itsLog};\n\t\t\t\tvar logger = $.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\n\t\t\t\t\tdata: JSON.stringify(postData),\n\t\t\t\t\tcontentType: \"application/json\"\n\t\t\t\t});\n\t\t\t\tlogger.done(function(data){\n\t\t\t\t\tWorkoutLog.log.workouts.push(data);\n\t\t\t\t\t$(\"#log-description\").val(\"\");\n\t\t\t\t\t$(\"#log-result\").val(\"\");\n\t\t\t\t\t$('a[href=\"#history\"]').tab(\"show\");\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetWorkout: function(){\n\t\t\t\tvar thisLog = {id: $(this).attr(\"id\")};\n\t\t\t\tconsole.log(thisLog);\n\t\t\t\tlogID = thisLog.id;\n\t\t\t\tvar updateData = {log: thisLog};\n\t\t\t\tvar getLog = $.ajax({\n\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log/\" + logID,\n\t\t\t\t\tdata: JSON.stringify(updateData),\n\t\t\t\t\tcontentType: \"application/json\"\n\t\t\t\t});\n\t\t\t\tgetLog.done(function(data){\n\t\t\t\t\t$('a[href=\"#update-log\"]').tab(\"show\");\n\t\t\t\t\t$(\"#update-result\").val(data.result);\n\t\t\t\t\t$(\"#update-description\").val(data.description);\n\t\t\t\t\t$(\"#update-id\").val(data.id);\n\t\t\t\t});\n\t\t\t},\n\t\t\tupdateWorkout: function(){\n\t\t\t\t$(\"#update\").text(\"Update\");\n\t\t\t\tvar updateLog = {\n\t\t\t\t\tid: $(\"#update-id\").val(),\n\t\t\t\t\tdesc: $(\"#update-description\").val(),\n\t\t\t\t\t\tresult: $(\"#update-result\").val(),\n\t\t\t\t\t\tdef: $(\"#update-definition option:selected\").text()\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < WorkoutLog.log.workouts.length; i++){\n\t\t\t\t\tif (WorkoutLog.log.workouts[i].id == updateLog.id){\n\t\t\t\t\t\tWorkoutLog.log.workouts.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tWorkoutLog.log.workouts.push(updateLog);\n\t\t\t\tvar updateLogData = {log: updateLog};\n\t\t\t\tvar updater = $.ajax({\n\t\t\t\t\ttype: \"PUT\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\n\t\t\t\t\tdata: JSON.stringify(updateLogData),\n\t\t\t\t\tcontentType: \"application/json\"\n\t\t\t\t});\n\t\t\t\tupdater.done(function(data){\n\t\t\t\t\t$(\"#update-description\").val(\"\");\n\t\t\t\t\t$(\"#update-result\").val(\"\");\n\t\t\t\t\t$('a[href=\"#history\"]').tab(\"show\");\n\t\t\t\t})\n\t\t\t},\n//COMPLETE ABOVE\n\n\n\t\t\tdelete: function(){\n\t\t\t\tvar thisLog = {\n\t\t\t\t\t//\"this\" is the button on the li (li = login)\n\t\t\t\t\t//.attr(\"id\") targets the value of the id attribute of button\n\t\t\t\t\tid: $(this).attr(\"id\")\n\t\t\t\t};\n\t\t\t\tvar deleteData = {log: thisLog};\n\t\t\t\tvar deleteLog = $.ajax({\n\t\t\t\t\ttype: \"DELETE\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\n\t\t\t\t\tdata: JSON.stringify(deleteData),\n\t\t\t\t\tcontentType: \"application/json\"\n\t\t\t\t});\n\t\t\t\t//removes list item\n\t\t\t\t//references button then grabs closet li\n\t\t\t\t$(this).closest(\"li\").remove();\n\n\t\t\t\t//deletes item out of workouts array\n\t\t\t\tfor (i = 0; i < WorkoutLog.log.workouts.length; i++){\n\t\t\t\t\tif (WorkoutLog.log.workouts[i].id == thisLog.id){\n\t\t\t\t\t\tWorkoutLog.log.workouts.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdeleteLog.fail(function(){\n\t\t\t\t\tconsole.log(\"Nope, you didn't delete it.\")\n\t\t\t\t});\n\t\t\t},\n\t\t\tfetchAll: function(){\n\t\t\t\tvar fetchDefs = $.ajax({\n\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"authorization\":\n\t\t\t\t\t\t\twindow.localStorage.getItem(\"sessionToken\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.done(function(data){\n\t\t\t\t\tWorkoutLog.log.workouts = data;\n\t\t\t\t})\n\t\t\t\t.fail(function(err){\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t})\n\n\t//click the button and create a log entry\n\t$(\"#log-save\").on(\"click\", WorkoutLog.log.create);\n\t$(\"#history-list\").delegate(\".remove\", \"click\", WorkoutLog.log.delete);\t\n\t$(\"#log-update\").on(\"click\", WorkoutLog.log.updateWorkout);\n\t$(\"#history-list\").delegate(\".update\", \"click\", WorkoutLog.log.getWorkout);\n\n\tif (window.localStorage.getItem(\"sessionToken\")){\n\t\tWorkoutLog.log.fetchAll();\n\t}\n});","$(function(){\n\t$.extend(WorkoutLog, {\n\t\t//Sign Up Method:\n\t\tsignup: function(){\n\t\t\t//Username and Password variables:\n\t\t\tvar username = $(\"#su_username\").val();\n\t\t\tvar password = $(\"#su_password\").val();\n\t\t\t//User object:\n\t\t\tvar user = {\n\t\t\t\tuser: {\n\t\t\t\t\tusername: username,\n\t\t\t\t\tpassword: password\n\t\t\t\t}\n\t\t\t};\n\t\t\t//Sign Up post:\n\t\t\tvar signup = $.ajax({\n\t\t\t\ttype: \"POST\",\n\t\t\t\turl: WorkoutLog.API_BASE + \"user\",\n\t\t\t\tdata: JSON.stringify(user),\n\t\t\t\tcontentType: \"application/json\"\n\t\t\t});\n\t\t\t//Sign Up done/fail:\n\t\t\tsignup.done(function(data){\n\t\t\t\tif (data.sessionToken){\n\t\t\t\t\tWorkoutLog.setAuthHeader(data.sessionToken);\n\t\t\t\t\tWorkoutLog.definition.fetchAll();\n\t\t\t\t\tWorkoutLog.log.fetchAll();\n\t\t\t\t\t\n\t\t\t\t//\tconsole.log(\"You made it!\");\n\t\t\t\t//\tconsole.log(data.sessionToken);\n\t\t\t\t}\n\t\t\t\t$(\"#signup-modal\").modal(\"hide\");\n\t\t\t\t$(\".disabled\").removeClass(\"disabled\");\n\t\t\t\t$(\"#loginout\").text(\"Logout\");\n\t\t\t\t//go to define tab\n\t\t\t\t$('.nav-tabs a[href=\"#define\"]').tab(\"show\");\n\n\t\t\t\t$('a[href=\"#define\"]').tab(\"show\");\n\t\t\t\t$(\"#su_username\").val(\"\");\n\t\t\t\t$(\"#su_password\").val(\"\");\n\t\t\t})\n\t\t\t.fail(function(){\n\t\t\t\t$(\"#su_error\").text(\"There was an issue with sign up\").show();\n\t\t\t});\n\t\t},\n\t\t//Login Method:\n\t\tlogin: function(){\n\t\t\t//Login variables:\n\t\t\tvar username = $(\"#li_username\").val();\n\t\t\tvar password = $(\"#li_password\").val();\n\t\t\tvar user = { user: {\n\t\t\t\tusername: username,\n\t\t\t\tpassword: password\n\t\t\t}};\n\n\t\t\t//Login POST:\n\t\t\tvar login = $.ajax({\n\t\t\t\ttype: \"POST\",\n\t\t\t\turl: WorkoutLog.API_BASE + \"login\",\n\t\t\t\tdata: JSON.stringify(user),\n\t\t\t\tcontentType: \"application/json\"\n\t\t\t});\n\n\t\t\t//Login done/fail:\n\t\t\tlogin.done(function(data){\n\t\t\t\tif (data.sessionToken){\n\t\t\t\t\tWorkoutLog.setAuthHeader(data.sessionToken);\n\t\t\t\t\tWorkoutLog.definition.fetchAll();\n\t\t\t\t\tWorkoutLog.log.fetchAll();\n\t\t\t\t}\n\t\t\t\t$(\"#login-modal\").modal(\"hide\");\n\t\t\t\t$(\".disabled\").removeClass(\"disabled\");\n\t\t\t\t$(\"#loginout\").text(\"Logout\");\n\t\t\t\t$(\"#li_username\").val(\"\");\n\t\t\t\t$(\"#li_password\").val(\"\");\n\t\t\t\t$('a[href=\"#define\"]').tab(\"show\");\n\t\t\t})\n\t\t\t.fail(function(){\n\t\t\t\t$(\"#li_error\").text(\"There was an issue with your username or password.\").show();\n\t\t\t});\n\n\t\t},\n\n\t\t//Loginout Method:\n\t\tloginout: function(){\n\t\t\tif (window.localStorage.getItem(\"sessionToken\")){\n\t\t\t\twindow.localStorage.removeItem(\"sessionToken\");\n\t\t\t\t$(\"#loginout\").text(\"Login\");\n\t\t\t}\n\t\t\t//TODO: On logout, make sure stuff is disabled.\n\t\t}\n\n\t\t\n\t});\n\t//Bind Events:\n\t$(\"#login\").on(\"click\", WorkoutLog.login);\n\t$(\"#signup\").on(\"click\", WorkoutLog.signup);\n\t$(\"#loginout\").on(\"click\", WorkoutLog.loginout);\n\n\tif (window.localStorage.getItem(\"sessionToken\")){\n\t\t$(\"#loginout\").text(\"Logout\");\n\t}\n});"]}